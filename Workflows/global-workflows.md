# Cline 全局工作流

## 工作流加载机制
- 自动加载当前目录所有 `*.workflows.md` 文件
- 支持项目级补充工作流：`.cline/workflows/*.md`

## 核心工作流

### **新功能开发工作流**
1. **设计环**
   - 深度讨论设计方案
   - 输出包含具体接口、关键算法伪代码、数据库变更SQL的技术方案
   - 撰写包含可直接用于单元测试的验收条件的文档

2. **实现环**
   - 制定代码计划，拆分为"编译-通过-测试-通过"的微迭代
   - 先写测试，基于验收条件编写失败的单元测试
   - 执行代码工作，以实现测试通过为目标
   - 编译与即时修复
   - 运行测试与重构

### **AI Agent 协同工作流**
当有新需求时，AI Agent集群协作：
1. **AI 产品经理** → **AI 架构师** → **AI 开发** → **AI Reviewer** → **AI 测试** → **AI 运维/SRE**
2. 每个Agent按协议执行，确保高效、自治、协同的有机整体

## 工作流原则
- **测试驱动开发**：将测试提前到编码之前
- **微迭代闭环**：每个任务遵循"写测试 -> 编码 -> 编译 -> 测试"的完整闭环
- **文档即合约**：将文档转化为可执行的验收条件
